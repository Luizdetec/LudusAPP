<div class="main-page">
  <div class="header">
    <button class="return-btn" (click)="navigateToHome()">
      <img src="assets/icons/close.svg" alt="Fechar pÃ¡gina" class="close-img">
    </button>
    <span class="title">Alunos</span>
    <span></span>
  </div>

  <div class="line-divisor"></div>

  <div class="input-box">
    <span class="title">Selecione a turma</span>
    <app-dropdown 
      [options]="turmas" 
      [(selected)]="turmaSelecionada" 
      (selectedChange)="loadStudents()">
    </app-dropdown>
  </div>

  <div class="main-box">
    <div class="class-container" *ngFor="let aluno of students">
      <app-ludus-checkbox 
        [checked]="alunoSelecionadoId === aluno.id_aluno" 
        (change)="selecionarAluno(aluno.id_aluno)">
      </app-ludus-checkbox>
      <span class="student-text">{{ aluno.nome_aluno }}</span>
    </div>
  </div>

  <div class="btn-box">
    <app-button text="Editar" (click)="editarAluno()"></app-button>
    <app-button text="Excluir" color="#000" textcolor="#fff"></app-button>
  </div>

  @if (isLoading) {
    <div class="loading-modal">
      <div class="spinner"></div>
    </div>
  }
</div>
